\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{biblatex-source-division}[2013/12/08 v1.0.0-beta source division for eledpar]

% Call the source division getting
\renewbibmacro*{prenote}{%
  \usebibmacro{getsourcedivision}%
  \iffieldundef{prenote}%
    {}%
    {\printfield{prenote}%
     \setunit{\prenotedelim}}}

% Get source division, put in in titladdon field, and delete source division from the postnote field
\newbibmacro{getsourcedivision}{
  \usefield{\getsourcedivision@}{postnote}%
   \restorefield{titleaddon}{\titleaddon}%
   \restorefield{postnote}{\postnote}%
 }
 
% Analyse of the source division

%% Main command
\newrobustcmd*{\getsourcedivision@}[1]{\getsourcedivision@i#1&} 

% Are there parenthesis ?
\def\getsourcedivision@i{%
  \@ifnextchar(%)
    {\getsourcedivision@ii}
    {\getsourcedivision@ii()}}

% Put the source division and "true" postnote in macro
\def\getsourcedivision@ii(#1)#2&{%
  \gdef\titleaddon{#1}%
  \gdef\postnote{#2}
 }
 
\endinput